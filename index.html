<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Predict Next Year!</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #0e0e1a;
      color: #f0f0f0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding-top: 20px;
      margin: 0;
      height: 100vh;
      overflow: hidden;
    }

    h1 {
      font-size: 2em;
      margin-bottom: 4px; /* reduced spacing below title */
      color: #00ffff;
      text-align: center;
    }

    p {
      margin-top: 0; /* remove default top margin */
      margin-bottom: 20px;
      font-size: 0.9em;
      opacity: 0.8;
    }

    input[type="text"] {
      padding: 10px;
      font-size: 1.2em;
      width: 200px;
      max-width: 90vw;
      border: none;
      border-radius: 5px;
      margin-bottom: 20px;
      box-sizing: border-box;
    }

    button {
      padding: 10px 20px;
      font-size: 1em;
      background: #00ffff;
      color: #000;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      max-width: 90vw;
      box-sizing: border-box;
    }

    #loader {
      margin-top: 30px;
      width: 300px;
      max-width: 90vw;
      height: 20px;
      background: #333;
      border-radius: 10px;
      overflow: hidden;
      display: none;
      position: relative;
    }

    #progress {
      height: 100%;
      width: 0%;
      background: linear-gradient(to right, #00ffff, #0077ff);
      transition: width 0.05s linear;
      position: relative;
    }

    #progress span {
      position: absolute;
      right: 8px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 0.8em;
      color: #000;
      font-weight: bold;
    }

    #message {
      margin-top: 10px;
      font-style: italic;
      height: 24px;
      text-align: center;
      white-space: nowrap;
      overflow: hidden;
      border-right: 2px solid #00ffff;
      display: none;
    }

    #result {
      margin-top: 40px;
      font-size: 1.8em;
      color: #00ff88;
    }
  </style>
</head>
<body>
  <h1>Predict Next Year!</h1>
  <p>100% accurate</p>
  <input type="text" id="yearInput" placeholder="Enter a year..." />
  <button onclick="startPrediction()">Predict</button>

  <div id="loader">
    <div id="progress"><span id="percentText">0%</span></div>
  </div>
  <div id="message"></div>
  <div id="result"></div>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>

  <script>
    const allPhrases = [
      "Stabilizing warp field harmonics...",
      "Aligning temporal phase oscillators...",
      "Calibrating inertial dampening systems...",
      "Analyzing quantum resonance feedback...",
      "Synchronizing tachyon field sensors...",
      "Compensating for relativity drift...",
      "Decoding gravitational lensing distortions...",
      "Reconstructing fourth-dimensional maps...",
      "Initializing neutrino flow regulators...",
      "Triangulating subspace echo patterns...",
      "Modulating plasma containment lattice...",
      "Adjusting hyperdrive particle alignment...",
      "Cycling quantum probability engines...",
      "Charging singularity dampening mesh...",
      "Resolving hyperspace friction anomalies...",
      "Mapping entropy fluctuations in real-time..."
    ];

    const finalPhrases = [
      "Calculating space-time vortexes...",
      "Calibrating user tolerance levels...",
      "Analyzing attention span..."
    ];

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function typeWriter(text, element, callback) {
      element.style.display = 'inline-block';
      element.textContent = '';
      let i = 0;
      const speed = 30;
      function type() {
        if (i < text.length) {
          element.textContent += text.charAt(i);
          i++;
          setTimeout(type, speed);
        } else {
          callback && callback();
        }
      }
      type();
    }

    function startPrediction() {
      const input = document.getElementById('yearInput').value.trim();
      const resultEl = document.getElementById('result');
      const loader = document.getElementById('loader');
      const progress = document.getElementById('progress');
      const percentText = document.getElementById('percentText');
      const message = document.getElementById('message');

      if (!input) {
        alert('Please enter a year!');
        return;
      }

      resultEl.textContent = '';
      loader.style.display = 'block';
      progress.style.width = '0%';
      percentText.textContent = '0%';
      message.style.display = 'none';
      message.textContent = '';

      const progressDuration = 4000 + Math.random() * 4000;
      const finalPhraseDelay = 2000 + Math.random() * 1000;

      const startTime = Date.now();
      let currentPercent = 0;

      const phraseList = shuffleArray([...allPhrases]).slice(0, 4);
      const fullPhraseSequence = [...phraseList, ...finalPhrases];
      let phraseIndex = 0;

      const progressLoop = setInterval(() => {
        const elapsed = Date.now() - startTime;
        let percent = (elapsed / progressDuration) * 99.5;
        if (percent > 99.5) percent = 99.5;
        if (percent < currentPercent) return;
        currentPercent = percent;

        progress.style.width = `${percent}%`;
        percentText.textContent = `${Math.floor(percent)}%`;
      }, 50);

      function nextPhrase() {
        if (phraseIndex < fullPhraseSequence.length) {
          typeWriter(fullPhraseSequence[phraseIndex], message, () => {
            phraseIndex++;

            if (phraseIndex === 4) {
              clearInterval(progressLoop);
              progress.style.width = '99.5%';
              percentText.textContent = '99%';
            }

            const delay = phraseIndex < 4 ? 600 : 1000;
            setTimeout(nextPhrase, delay);
          });
        } else {
          setTimeout(() => {
            progress.style.width = '100%';
            percentText.textContent = '100%';
            loader.style.display = 'none';
            message.style.display = 'none';
            resultEl.textContent = `Result: ${parseInt(input) + 1}`;

            confetti({
              particleCount: 300,
              spread: 150,
              origin: { y: 0.6 }
            });
          }, finalPhraseDelay);
        }
      }

      nextPhrase();
    }
  </script>
</body>
</html>
